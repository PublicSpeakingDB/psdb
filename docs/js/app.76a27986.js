(function(e){function t(t){for(var a,n,r=t[0],l=t[1],c=t[2],m=0,u=[];m<r.length;m++)n=r[m],Object.prototype.hasOwnProperty.call(i,n)&&i[n]&&u.push(i[n][0]),i[n]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a]);d&&d(t);while(u.length)u.shift()();return s.push.apply(s,c||[]),o()}function o(){for(var e,t=0;t<s.length;t++){for(var o=s[t],a=!0,r=1;r<o.length;r++){var l=o[r];0!==i[l]&&(a=!1)}a&&(s.splice(t--,1),e=n(n.s=o[0]))}return e}var a={},i={app:0},s=[];function n(t){if(a[t])return a[t].exports;var o=a[t]={i:t,l:!1,exports:{}};return e[t].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=a,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(o,a,function(t){return e[t]}.bind(null,a));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],l=r.push.bind(r);r.push=t,r=r.slice();for(var c=0;c<r.length;c++)t(r[c]);var d=l;s.push([0,"chunk-vendors"]),o()})({0:function(e,t,o){e.exports=o("56d7")},1:function(e,t){},10:function(e,t){},11:function(e,t){},12:function(e,t){},13:function(e,t){},14:function(e,t){},15:function(e,t){},16:function(e,t){},17:function(e,t){},18:function(e,t){},2:function(e,t){},"2b50":function(e,t,o){},3:function(e,t){},3884:function(e,t,o){},4:function(e,t){},5:function(e,t){},"56d7":function(e,t,o){"use strict";o.r(t);var a=o("2b0e"),i=function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"app"}},[t("PublicSpeakingDashboard")],1)},s=[],n=function(){var e=this,t=e._self._c;return t("div",[e.loading?e._e():t("p",{attrs:{id:"loadingContainer","aria-live":"polite","aria-busy":"true"}},[e._v(" Initializing "),t("br"),t("section",{attrs:{id:"loader","aria-label":"Loading animation"}}),t("br"),t("span",{attrs:{id:"initialMessage"}},[e._v("(Make sure your webcam is facing you.)")])]),e._m(0),e.showProcess?t("h1",{attrs:{id:"mainTitle","aria-live":"polite"}},[t("img",{attrs:{id:"talking",alt:"","aria-hidden":"true",src:"talking.png"}}),e._v(e._s(e.msg))]):e._e(),e.showProcess?t("p",{attrs:{id:"messageTwo","aria-live":"assertive"}},[e._v(e._s(e.msg2)),e.browserUrl?t("a",{attrs:{href:"https://support.google.com/chrome/answer/95346?hl=en&ref_topic=7439538&sjid=17703533698318943859-NA"}},[e._v("here")]):e._e()]):e._e(),e.showProcess?t("p",{attrs:{id:"messageThree","aria-live":"assertive"}},[e._v(e._s(e.msg3))]):e._e(),t("span",{attrs:{id:"timeHolder"}},[e._v("Time: ")]),t("span",[e.show3?e._e():t("span",{attrs:{id:"dropdownWrapper"}},[t("label",{staticClass:"sr-only",attrs:{for:"speakingTime"}}),e._m(1)]),e.showBegin?t("button",{attrs:{id:"begin"},on:{click:function(t){e.begin(),e.selectWPM(),e.selectTextEmotion(),e.selectVoiceEmotion(),e.selectFaceEmotion()}}},[e._v("Begin")]):e._e(),e.showStart?e._e():t("button",{attrs:{id:"start"},on:{click:e.begin3}},[e._v("Start")]),e.showStop?e._e():t("button",{attrs:{id:"stop"},on:{click:e.stopVoiceControl}},[e._v("Stop")]),e.show3?e._e():t("button",{attrs:{id:"reset"},on:{click:e.reset}},[e._v("Reset")]),e.show5?e._e():t("button",{attrs:{id:"pdf"},on:{click:e.pdfResults}},[e._v("Save")])]),t("br"),t("span",{attrs:{id:"rawData","aria-live":"polite"}}),e.showTime?e._e():t("div",{staticClass:"title",attrs:{id:"timer","aria-live":"polite"}},[e._v(e._s(e.time)),t("span",{attrs:{"aria-hidden":"true"}},[e._v(e._s(e.msgTime))])]),e.show3?e._e():t("span",{attrs:{id:"volume-visualizer-wrapper",role:"progressbar","aria-valuemin":"0","aria-valuemax":"100","aria-valuenow":"0","aria-label":"Volume Level","aria-live":"polite"}},[t("span",{attrs:{id:"volume-visualizer"}}),e._v(" "),t("span",{attrs:{id:"volume-number"}}),t("span",{staticClass:"sr-only"},[e._v("Visual representation of volume level")])]),e.show3?e._e():t("ul",{attrs:{id:"output","aria-live":"polite"}}),t("span",[e.show3?e._e():t("button",{attrs:{id:"dataShowButton"},on:{click:e.unhideData}},[e._v("View Raw Data")]),e.show3?e._e():t("button",{attrs:{id:"dataHideButton"},on:{click:e.hideData}},[e._v("Hide Raw Data")])]),t("br"),t("section",[e.showVolume?e._e():t("button",{staticClass:"modalButton",attrs:{id:"modalButtonOverall"},on:{click:e.Overallmodal}},[e._v("How Public Speaking Dashboard Works")])]),t("span",{attrs:{id:"container"}},[t("div",{staticClass:"video-container",attrs:{id:"video-container"}},[t("video",{attrs:{id:"video",autoplay:"",muted:"",width:"150",height:"150",alt:"Live video feed for facial expression analysis"},domProps:{muted:!0}})])]),e._m(2),e._m(3),e._m(4),e.showWPM?e._e():t("span",{attrs:{id:"wpmChart",role:"img","aria-label":"Chart showing words per minute over time"}}),t("br"),t("section",[e.showVolume?e._e():t("button",{staticClass:"modalButton",attrs:{id:"modalButtonWPM"},on:{click:e.WPMmodal}},[e._v("More About Rate of Speech")])]),e._m(5),e.showVolume?e._e():t("span",{attrs:{id:"volumeChart",role:"img","aria-label":"Chart showing speaker's microphone volume over time"}}),t("br"),t("section",[e.showVolume?e._e():t("button",{staticClass:"modalButton",attrs:{id:"modalButtonVolume"},on:{click:e.Volumemodal}},[e._v("More About Volume")])]),e._m(6),e.showFaceEmotion?e._e():t("span",{attrs:{id:"faceEmotionChart",role:"img","aria-label":"Chart showing facial emotions over time"}}),t("section",[e.showVolume?e._e():t("button",{staticClass:"modalButton",attrs:{id:"modalButtonFace"},on:{click:e.Facemodal}},[e._v("More About Expressions in Face")])]),e._m(7),e.showTextEmotion?e._e():t("span",{attrs:{id:"readabilityChart",role:"img","aria-label":"Chart showing word complexity over time"}}),t("section",[e.showVolume?e._e():t("button",{staticClass:"modalButton",attrs:{id:"modalButtonWords"},on:{click:e.Wordsmodal}},[e._v("More About Complexity of Words Spoken")])]),e._m(8),t("br"),e.showFeedback?e._e():t("h1",{attrs:{id:"specificAndOverallFeedback"}},[e._v("Specific Feedback")]),e.spinner1?t("span",{staticClass:"lds-ellipsis",attrs:{id:"spinner1","aria-live":"polite","aria-busy":"true"}},[t("span"),e._v(" "),t("span"),t("span"),e._v(" "),t("span")]):e._e(),t("br"),e.showFeedback?e._e():t("p",{staticClass:"feedback"},[e._v(e._s(e.feedback))]),t("br"),e.showFeedback2?e._e():t("h1",{attrs:{id:"specificAndOverallFeedback"}},[e._v("Overall Feedback")]),e.spinner2?t("span",{staticClass:"lds-ellipsis",attrs:{id:"spinner2","aria-live":"polite","aria-busy":"true"}},[t("span"),e._v(" "),t("span"),t("span"),e._v(" "),t("span")]):e._e(),t("br"),e.showFeedback2?e._e():t("p",{staticClass:"feedback"},[e._v(e._s(e.feedback2))]),t("section",[e.showVolume?e._e():t("button",{staticClass:"modalButton",attrs:{id:"modalButtonFeedback","aria-haspopup":"true","aria-expanded":"false","aria-controls":"modalBoxFeedback"},on:{click:e.Feedbackmodal}},[e._v("More About Feedback")])]),e._m(9),e.showFooter?t("footer",{attrs:{id:"footer"}},[t("section",{attrs:{id:"version"}},[e._v(" Version 0.1 (Beta) "),t("div",{attrs:{id:"bugs"}},[t("br"),e.showModal?t("section",{attrs:{id:"modal"}},[e._v(" Public Speaking Dashboard does not collect or store user data. However, third-party services are used for transcription and analysis. Terms of use for those third-party services can be found at "),t("a",{attrs:{href:"https://deepgram.com/terms"}},[e._v("DeepGram")]),e._v(" and "),t("a",{attrs:{href:"https://mistral.ai/terms/"}},[e._v("Mistral")]),e._v(". ")]):e._e(),t("br"),t("b",[e._v("Known Bugs and Limitations:")]),e._v(" "),t("br"),t("section",[e._v(" - Current version of app works best on the latest Google Chrome browser on desktop. Other browsers are unstable. ")]),t("section",[e._v(" - App will work on Google Chrome browser on iOS and Android. Other browsers are unstable. ")]),t("section",[e._v(" - User needs to speak for at least 30 seconds before meaningful results are produced. ")]),t("section",[e._v(" - System will only reliably give an overall summary for speeches shorter than 10 minutes. ")]),t("br"),t("b",[e._v("Updates: ")]),t("span",{attrs:{id:"updates"}},[e._v(e._s(e.updates))]),t("br"),t("br"),e._v(" If you find a bug or anything that can be improved in the app, please report it here: "),t("a",{attrs:{href:"https://rowan.co1.qualtrics.com/jfe/form/SV_8AhIsft05UgIUqW"}},[e._v("Bug/Improvement Report Form")]),t("br"),t("br")])])]):e._e()])},r=[function(){var e=this,t=e._self._c;return t("span",{attrs:{id:"container"}},[t("div",{staticClass:"video-container",attrs:{id:"video-container","aria-label":"Webcam feed"}},[t("video",{attrs:{id:"video",autoplay:"",width:"150",height:"150"}})])])},function(){var e=this,t=e._self._c;return t("select",{attrs:{name:"speakingTime",id:"speakingTime","aria-label":"Desired Speaking Time Dropdown Menu",tabindex:"0"}},[t("option",{attrs:{value:"60000",selected:""}},[e._v("1 Min")]),t("option",{attrs:{value:"120000"}},[e._v("2 Min")]),t("option",{attrs:{value:"180000"}},[e._v("3 Min")]),t("option",{attrs:{value:"300000"}},[e._v("5 Min")]),t("option",{attrs:{value:"360000"}},[e._v("6 Min")]),t("option",{attrs:{value:"420000"}},[e._v("7 Min")]),t("option",{attrs:{value:"480000"}},[e._v("8 Min")]),t("option",{attrs:{value:"540000"}},[e._v("9 Min")]),t("option",{attrs:{value:"600000"}},[e._v("10 Min")])])},function(){var e=this,t=e._self._c;return t("div",{staticClass:"modal",attrs:{id:"modalBoxSave",role:"alertdialog","aria-modal":"true","aria-labelledby":"modalBoxSaveDescription"}},[t("div",{staticClass:"modal-content",attrs:{tabindex:"-1"}},[t("h2",{attrs:{id:"modalBoxSaveLabel"}},[e._v("Be Sure to Save!")]),t("p",[e._v("Public Speaking Dashboard does not save user content."),t("br"),t("br"),e._v('Clicking the "back" button will clear any dashboard results/analysis. '),t("br"),t("br"),e._v('To keep a copy of your results, click "save."')]),t("button",{staticClass:"close2",attrs:{id:"modalBoxCloseSave",tabindex:"4","aria-label":"Close instructions to save modal"}},[e._v("Got It")])])])},function(){var e=this,t=e._self._c;return t("div",{staticClass:"modal",attrs:{id:"modalBoxOverall",role:"dialog","aria-modal":"true","aria-labelledby":"modalBoxOverallDescription"}},[t("div",{staticClass:"modal-content",attrs:{tabindex:"-1"}},[t("button",{staticClass:"close",attrs:{id:"modalBoxCloseOverall","aria-label":"Close how public speaking dashboard works modal"}},[e._v("×")]),t("h2",{attrs:{id:"modalBoxOverallLabel"}},[e._v("How Public Speaking Dashboard Works")]),t("p",[e._v('Public Speaking Dashboard analyzes the user\'s rate of speech, volume, expressions in face, and word complexity. Then, that data is summarized by bots (short for "software-based robots") to help you think about your speech performance.'),t("br"),t("br"),e._v("Use the data output and feedback to identify successes and opportunities for growth in your speaking performance. "),t("br"),t("br"),t("b",[e._v("Important note about transcription")]),e._v(": Public Speaking Dashboard is "),t("i",[e._v("mostly")]),e._v(' correct in its transcriptions, but will unavoidably return erroneous results (this is a limitation inherent to automated transcription in general). As such, it is important to reflect on the results of Public Speaking Dashboard not with an eye for specific "blunders" but rather larger patterns in your public speaking.')])])])},function(){var e=this,t=e._self._c;return t("span",{attrs:{id:"container"}},[t("div",{staticClass:"video-container",attrs:{id:"video-container"}},[t("video",{attrs:{id:"video",autoplay:"",width:"150",height:"150"}})])])},function(){var e=this,t=e._self._c;return t("div",{staticClass:"modal",attrs:{id:"modalBoxWPM",role:"dialog","aria-modal":"true","aria-labelledby":"modalBoxWPMDescription"}},[t("div",{staticClass:"modal-content",attrs:{tabindex:"-1"}},[t("button",{staticClass:"close",attrs:{id:"modalBoxCloseWPM","aria-label":"Close words per minute explanation modal"}},[e._v("×")]),t("h2",{attrs:{id:"modalBoxWPMLabel"}},[e._v("Rate of Speech")]),t("p",[e._v('Rate of speech is calculated by taking the latest registered "chunk" of transcribed speech and dividing it by the time passed since the previous chunk was registered.'),t("br"),t("br"),e._v("Use this data to think about your own impact and understandability."),t("br"),t("br"),e._v("Speaking quickly might add energy but reduce comprehension for the audience. And, speaking slowly might add clarity but lose energy. The ideal is to strike a balance based on your own unique speaking style and character.")])])])},function(){var e=this,t=e._self._c;return t("div",{staticClass:"modal",attrs:{id:"modalBoxVolume",role:"dialog","aria-modal":"true","aria-labelledby":"modalBoxVolumeDescription"}},[t("div",{staticClass:"modal-content",attrs:{tabindex:"-1"}},[t("button",{staticClass:"close",attrs:{id:"modalBoxCloseVolume","aria-label":"Close speaking volume explanation modal"}},[e._v("×")]),t("h2",{attrs:{id:"modalBoxVolumeLabel"}},[e._v("Volume")]),t("p",[e._v("Volume is captured by sampling the microphone volume once a second."),t("br"),t("br"),e._v('Use this data to think about your speech "dynamics," the ups and downs throughout your speech. '),t("br"),t("br"),e._v("While it is true that a speech can be too quiet or too loud, variance in volume can also enhance a speech by adding texture to it.")])])])},function(){var e=this,t=e._self._c;return t("div",{staticClass:"modal",attrs:{id:"modalBoxFace",role:"dialog","aria-modal":"true","aria-labelledby":"modalBoxFaceDescription"}},[t("div",{staticClass:"modal-content",attrs:{tabindex:"-1"}},[t("button",{staticClass:"close",attrs:{id:"modalBoxCloseFace","aria-label":"Close facial emotions explanation modal"}},[e._v("×")]),t("h2",{attrs:{id:"modalBoxFaceLabel"}},[e._v("Expressions in Face")]),t("p",[e._v("This data is captured by assessing key areas of the face to register a given emotional state once a second."),t("br"),t("br"),e._v('Use this data to think about the "congruence" (or not) between your words spoken and your facial expressions.'),t("br"),t("br"),e._v('Much of the time we want our facial expressions to be congruent with our content. But there are also occasions where incongruence is desirable--in humorous speech, for instance. Keep in mind that a "neutral" facial expression is not negative; it can be a desirable expression in many speaking contexts.'),t("br"),t("br"),e._v('It is important to keep in mind that, because the system samples your facial expressions once a second, it can sometimes register "micro-expressions," or flashes of expression that do not necessarily represent the emotional state perceptible by our audiences.')])])])},function(){var e=this,t=e._self._c;return t("div",{staticClass:"modal",attrs:{id:"modalBoxWords",role:"dialog","aria-modal":"true","aria-labelledby":"modalBoxWordsDescription"}},[t("div",{staticClass:"modal-content",attrs:{tabindex:"-1"}},[t("button",{staticClass:"close",attrs:{id:"modalBoxCloseWords","aria-label":"Close word complexity explanation modal"}},[e._v("×")]),t("h2",{attrs:{id:"modalBoxWordsLabel"}},[e._v("Complexity of Words Spoken")]),t("p",[e._v("Word complexity is calculated by dividing the number of words by the number of syllables. A higher ratio indicates more complex words."),t("br"),t("br"),e._v("Complexity of words spoken can impact the understandability and engagement of your audience. Use this data to reflect on your word choice and consider simplifying your language for better communication.")])])])},function(){var e=this,t=e._self._c;return t("div",{staticClass:"modal",attrs:{id:"modalBoxFeedback",role:"dialog","aria-modal":"true","aria-labelledby":"modalBoxFeedbackDescription"}},[t("div",{staticClass:"modal-content"},[t("button",{staticClass:"close",attrs:{id:"modalBoxCloseFeedback","aria-label":"Close feedback explanation modal"}},[e._v("×")]),t("h2",{attrs:{id:"modalBoxFeedbackHeader"}},[e._v("Feedback")]),t("p",[e._v("Feedback is generated based on the analysis of your speech. It includes specific feedback on various aspects of your speech and overall feedback summarizing your performance."),t("br"),t("br"),e._v("Use this feedback to improve your public speaking skills and focus on areas that need improvement.")])])])}],l=(o("14d9"),o("907a"),o("986a"),o("1d02"),o("3c5d"),o("1b3b"),o("3d71"),o("c6e3"),o("0e14")),c=o("61cc"),d=o.n(c),m=o("ab39"),u=o("ed18"),h=o.n(u),p=o("cee4");h.a.config();var f={name:"publicSpeakingDashboard",props:{},data(){return{msg:"Public Speaking Dashboard",msg2:"An AI-powered tool to help you hone your public speaking skills.",msg3:"",wordsSpoken:"START",output:"Recognized Text",workingOutput:"",workingTime:0,grabTimeInterval:"",registerWPMInterval:"",getEmotionStatsInterval:"",summarizeDataInterval:"",voiceInterval:"",deepGramTimeOut:"",initialTime:0,time:"00:00",timeElapsed:0,timeDifference:0,wordCount:0,totalWords:0,wordCountDividedByTime:0,stop:!1,wpm:0,anger:0,fear:0,excitement:0,boredom:0,sadness:0,happiness:0,readability:0,show:!0,show2:!0,show3:!0,showProcess:!0,showBegin:!0,showStop:!0,showStart:!0,loading:!0,show4:!0,show5:!0,showWPM:!0,showTextEmotion:!0,showTime:!0,showData:!0,showFooter:!0,showModal:!0,WPMSelected:!1,WPMColor:"#CBC3E3",textEmotionSelected:!1,textEmotionColor:"#CBC3E3",showVoiceEmotion:!0,voiceEmotionSelected:!1,voiceEmotionColor:"#CBC3E3",showFaceEmotion:!0,faceEmotionSelected:!1,faceEmotionColor:"#CBC3E3",textEmotionData:"",overallDataObject:"",currentDataObject:"",dataNamer:0,time1:!0,time2:!1,placeHolderForTimeCheck:0,volumeCallback:null,volumeInterval:null,volumeValue:0,volumeNumber:0,showVolume:!0,faceEmotionState:"",analyzeFaceInterval:"",renderDataInterval:"",faceAngry:0,faceDisgusted:0,faceFearful:0,faceHappy:0,faceNeutral:0,faceSad:0,faceSurprised:0,continuous:!0,speechAgain:!1,API2:Object({NODE_ENV:"production",VUE_APP_ROOT_API2:"",BASE_URL:"/"}).VUE_APP_ROOT_API3,feedback:"",feedback2:"",showFeedback:!0,showFeedback2:!0,dataSummary:"",referenceTime:"",firstSummary:!0,dataSample:"",tickerNumber:0,cancelCall:!0,android:!1,mediaRecorder:null,socket:null,transcripts:[],voiceInstance:null,dataSummaryTime:2e4,msgTime:"",speakingTimeLabel:"Choose Desired Speech Length (1 Min)",updates:"",updateNumber:0,browserUrl:!1,spinner1:!1,spinner2:!1}},created(){var e=/(android)/i.test(navigator.userAgent);e&&/Chrome/.test(navigator.userAgent)?(this.android=!0,console.log("using alternate speech recognition")):/Chrome/.test(navigator.userAgent)?(console.log("Landing page loaded"),console.log("Speech recognition supported in Chrome")):(console.log("Landing page loaded"),console.log("Not Chrome browser."),this.showBegin=!1,this.msg2="Public Speaking Dashboard is not supported by this browser. Currently, Public Speaking Dashboard only works in the Chrome browser. You can download and install Chrome  ",this.browserUrl=!0),p["a"].get("https://raw.githubusercontent.com/publicspeakingdashboard/updates/main/updates.txt").then(e=>this.updates=e.data)},mounted(){const e=document.getElementById("speakingTime");e.addEventListener("change",e=>{this.speakingTimeLabel=`Choose Desired Speech Length (${e.target.value/6e4} Min)`,this.$announce(`Selected speaking time: ${e.target.value/6e4} minutes`)})},methods:{begin3:function(){this.msg="",this.showStart=!0,this.showStop=!1;var e=document.getElementById("speakingTime").value;e>=180001&&(this.dataSummaryTime=3e4),e<=18e3&&(this.dataSummaryTime=2e4),1==this.android&&(this.stop=!1,this.deepGramTimeOut=window.setTimeout(this.stopVoiceControl,3e4),this.begin2()),0==this.android&&(this.stop=!1,this.initiateVoiceControl())},modalTrap(e){const t=document.getElementById(e);setTimeout(()=>{const o=t.querySelectorAll('a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), [tabindex="0"]');if(o.length>0){const a=o[0],i=o[o.length-1];a.focus(),t.addEventListener("keydown",t=>{"Tab"===t.key?t.shiftKey||document.activeElement!==i?t.shiftKey&&document.activeElement===a&&(t.preventDefault(),i.focus()):(t.preventDefault(),a.focus()):"Escape"===t.key&&this.closeModal(e)})}else t.setAttribute("tabindex","-1"),t.focus()},10)},closeModal(e){const t=document.getElementById(e);t.style.display="none"},Savemodal:function(){var e=document.getElementById("modalBoxSave"),t=document.getElementById("modalBoxCloseSave");e.style.display="block",this.modalTrap("modalBoxSave"),setTimeout(()=>{document.getElementById("modalBoxCloseSave").focus()},10),e.addEventListener("keydown",t=>{"Escape"===t.key&&(e.style.display="none")}),t.onclick=function(){e.style.display="none"},window.onclick=function(t){t.target==e&&(e.style.display="none")}},Feedbackmodal:function(){var e=document.getElementById("modalBoxFeedback"),t=document.getElementById("modalBoxCloseFeedback");e.style.display="block",this.modalTrap("modalBoxFeedback"),setTimeout(()=>{document.getElementById("modalBoxCloseFeedback").focus()},10),e.addEventListener("keydown",t=>{"Escape"===t.key&&(e.style.display="none")}),t.onclick=function(){e.style.display="none"},window.onclick=function(t){t.target==e&&(e.style.display="none")}},Overallmodal:function(){var e=document.getElementById("modalBoxOverall"),t=document.getElementById("modalBoxCloseOverall");e.style.display="block",this.modalTrap("modalBoxOverall"),setTimeout(()=>{document.getElementById("modalBoxCloseOverall").focus()},10),e.addEventListener("keydown",t=>{"Escape"===t.key&&(e.style.display="none")}),t.onclick=function(){e.style.display="none"},window.onclick=function(t){t.target==e&&(e.style.display="none")}},Wordsmodal:function(){var e=document.getElementById("modalBoxWords"),t=document.getElementById("modalBoxCloseWords");e.style.display="block",this.modalTrap("modalBoxWords"),setTimeout(()=>{document.getElementById("modalBoxCloseWords").focus()},10),e.addEventListener("keydown",t=>{"Escape"===t.key&&(e.style.display="none")}),t.onclick=function(){e.style.display="none"},window.onclick=function(t){t.target==e&&(e.style.display="none")}},Facemodal:function(){var e=document.getElementById("modalBoxFace"),t=document.getElementById("modalBoxCloseFace");e.style.display="block",this.modalTrap("modalBoxFace"),setTimeout(()=>{document.getElementById("modalBoxCloseFace").focus()},10),e.addEventListener("keydown",t=>{"Escape"===t.key&&(e.style.display="none")}),t.onclick=function(){e.style.display="none"},window.onclick=function(t){t.target==e&&(e.style.display="none")}},WPMmodal:function(){var e=document.getElementById("modalBoxWPM"),t=document.getElementById("modalBoxCloseWPM");e.style.display="block",this.modalTrap("modalBoxWPM"),setTimeout(()=>{document.getElementById("modalBoxCloseWPM").focus()},10),e.addEventListener("keydown",t=>{"Escape"===t.key&&(e.style.display="none")}),t.onclick=function(){e.style.display="none"},window.onclick=function(t){t.target==e&&(e.style.display="none")}},Volumemodal:function(){var e=document.getElementById("modalBoxVolume"),t=document.getElementById("modalBoxCloseVolume");e.style.display="block",this.modalTrap("modalBoxVolume"),setTimeout(()=>{document.getElementById("modalBoxCloseVolume").focus()},10),e.addEventListener("keydown",t=>{"Escape"===t.key&&(e.style.display="none")}),t.onclick=function(){e.style.display="none"},window.onclick=function(t){t.target==e&&(e.style.display="none")}},begin2:async function(){if(0==this.stop)try{const e=await navigator.mediaDevices.getUserMedia({audio:!0});if(!MediaRecorder.isTypeSupported("audio/webm"))return void alert("Unsupported browser");this.mediaRecorder=new MediaRecorder(e,{mimeType:"audio/webm"});const t="wss://api.deepgram.com/v1/listen?language=en",o=this.API2;this.socket=new WebSocket(t,["token",o]),this.socket.onopen=()=>this.startStreaming(),this.socket.onmessage=e=>this.handleResponse(e),1==this.textEmotionSelected||1==this.WPMSelected||1==this.voiceEmotionSelected||1==this.faceEmotionSelected?(this.msg3="",0==this.stop&&(this.cancelCall=!1,this.showTime=!1,this.initialTime=Date.now(),this.grabTimeInterval=window.setInterval(this.grabTime,1e3),this.renderDataInterval=window.setInterval(this.renderData,1e3),this.summarizeDataInterval=window.setInterval(this.summarizeData,this.dataSummaryTime),this.startVolumeMeter(),document.getElementById("container").style.display="inline",this.showStop=!1,this.visualizeData(),console.log("app started"),this.show5=!0,this.stop=!0)):this.msg2="No input data selected. Try selecting words per minute or another parameter."}catch(e){alert(e)}},startStreaming:function(){this.mediaRecorder.addEventListener("dataavailable",e=>{e.data.size>0&&1==this.socket.readyState&&this.socket.send(e.data)}),this.mediaRecorder.start(50)},handleResponse:function(e){const t=JSON.parse(e.data),o=t.channel&&t.channel.alternatives;if(o&&o.length>0){const e=o[0].transcript;if(e&&(this.transcripts.push(e),console.log("deepgram "+e),window.clearTimeout(this.deepGramTimeOut),this.deepGramTimeOut=window.setTimeout(this.stopVoiceControl,3e4),this.workingTime)){this.workingOutput=e;var a=document.createElement("li");a.appendChild(document.createTextNode(" "+this.workingTime+": "+this.workingOutput)),document.querySelector("ul").appendChild(a);var i=document.getElementById("output");i.scrollTop=i.scrollHeight,this.wordsSpoken=e,this.output=this.output+=this.wordsSpoken,this.wordCount=this.countWords(this.output),this.totalWords=this.wordCount}}},begin:function(){document.getElementById("version").style.fontSize="10px",document.getElementById("bugs").style.fontSize="10px",this.analyzeFace(),window.SpeechRecognition=window.webkitSpeechRecognition||window.SpeechRecognition;let e=new window.SpeechRecognition;e.start(),this.show=!1,this.msg="",this.msg3="Choose a desired speech length, then click start. Click stop when finished.",this.showModal=!1,console.log("Dashboard page loaded"),setTimeout(()=>{document.getElementById("container").style.display="inline"},"4000")},startVolumeMeter:function(){(async()=>{const e=document.getElementById("volume-visualizer"),t=document.getElementById("volume-number");try{const o=await navigator.mediaDevices.getUserMedia({audio:!0}),a=new AudioContext,i=a.createMediaStreamSource(o),s=a.createAnalyser();s.fftSize=2048,i.connect(s);const n=new Uint8Array(s.frequencyBinCount);this.volumeCallback=()=>{s.getByteFrequencyData(n);let o=0;for(const e of n)o+=e*e;const a=Math.sqrt(o/n.length),i=20*Math.log10(a/255),r=i+66,l=Math.max(0,r);t.textContent=Math.round(l)+" dB",this.volumeNumber=Math.round(l);const c=Math.min(100,l/66*100);e.style.setProperty("--volume",c+"%"),this.showVolume=!1}}catch(o){console.log(o)}null!==this.volumeCallback&&null===this.volumeInterval&&(this.volumeInterval=setInterval(this.volumeCallback,50))})()},setVolume:function(){this.volumeValue=Math.round(this.volumeNumber)},selectWPM:function(){0==this.WPMSelected?(this.msg2="",this.WPMSelected=!0,1==this.WPMSelected&&(this.showWPM=!1)):(this.WPMSelected=!1,0==this.WPMSelected&&(this.showWPM=!0))},selectTextEmotion:function(){0==this.textEmotionSelected?(this.msg2="",this.textEmotionSelected=!0,1==this.textEmotionSelected&&(this.showTextEmotion=!1)):(this.textEmotionSelected=!1,0==this.textEmotionSelected&&(this.showTextEmotion=!0))},selectVoiceEmotion:function(){0==this.voiceEmotionSelected?(this.msg2="",this.voiceEmotionSelected=!0,1==this.voiceEmotionSelected&&(this.showVoiceEmotion=!1)):(this.voiceEmotionSelected=!1,0==this.voiceEmotionSelected&&(this.showVoiceEmotion=!0))},selectFaceEmotion:function(){0==this.faceEmotionSelected?(this.msg2="",this.faceEmotionSelected=!0,1==this.faceEmotionSelected&&(this.showFaceEmotion=!1)):(this.faceEmotionSelected=!1,0==this.faceEmotionSelected&&(this.showFaceEmotion=!0))},initiateVoiceControl:function(){console.log("Voice this.voiceInstance initiated"),window.SpeechRecognition=window.webkitSpeechRecognition,window.SpeechGrammarList=window.webkitSpeechGrammarList,window.SpeechRecognitionEvent=window.webkitSpeechRecognitionEvent;let e="";this.voiceInstance=new window.SpeechRecognition,this.voiceInstance.interimResults=!0,this.voiceInstance.maxAlternatives=10,this.voiceInstance.continuous=!0,this.voiceInstance.onresult=t=>{let o="";for(let s=t.resultIndex,n=t.results.length;s<n;s++){let n=t.results[s][0].transcript;if(t.results[s].isFinal){if(e+=n,this.workingTime){this.workingOutput=n;var a=document.createElement("li");a.appendChild(document.createTextNode(" "+this.workingTime+": "+this.workingOutput)),document.querySelector("ul").appendChild(a);var i=document.getElementById("output");i.scrollTop=i.scrollHeight,console.log("SpeechRecognition: "+this.workingOutput)}}else o+=n}this.wordsSpoken=e,this.output=this.wordsSpoken+=o,this.wordCount=this.countWords(this.output),this.totalWords=this.wordCount},this.voiceInstance.addEventListener("end",()=>{1==this.stop&&(this.stopVoiceControl(),console.log("SpeechRecognition app stopped")),0==this.stop&&(this.voiceInstance.start(),console.log("SpeechRecognition restarted"))}),this.msg3="",0==this.stop&&(this.voiceInstance.start(),this.cancelCall=!1,this.showTime=!1,this.initialTime=Date.now(),this.grabTimeInterval=window.setInterval(this.grabTime,1e3),this.renderDataInterval=window.setInterval(this.renderData,1e3),this.summarizeDataInterval=window.setInterval(this.summarizeData,this.dataSummaryTime),this.startVolumeMeter(),document.getElementById("container").style.display="inline",this.showStop=!1,this.visualizeData(),console.log("app started"),this.show5=!0)},analyzeFace:function(){this.showProcess=!1,this.showBegin=!1;const e=document.querySelector("video");this.loading=!1;const t=document.getElementById("video-container");function o(){var t={audio:!1,video:!0};navigator.mediaDevices.getUserMedia(t).then((function(t){e.setAttribute("autoplay","true"),e.setAttribute("playsinline","true"),e.setAttribute("muted","true"),e.setAttribute("loop","true"),e.srcObject=t,e.onloadedmetadata=function(){e.play()}})).catch((function(e){console.log(e.name+": "+e.message)}))}Promise.all([m["f"].tinyFaceDetector.loadFromUri("./models"),m["f"].faceLandmark68Net.loadFromUri("./models"),m["f"].faceRecognitionNet.loadFromUri("./models"),m["f"].faceExpressionNet.loadFromUri("./models")]).then(o),e.addEventListener("playing",()=>{console.log("Initializing face recognition");const o=m["b"](e);o.willReadFrequently=!0,t.appendChild(o);const a={width:e.width,height:e.height};m["e"](o,a),this.analyzeFaceInterval=window.setInterval(async()=>{const t=await m["c"](e,new m["a"]).withFaceLandmarks().withFaceExpressions(),i=m["g"](t,a);o.getContext("2d").clearRect(0,0,o.width,o.height);const s=m["g"](t,a);m["d"].drawDetections(o,i);const n=.01;if(m["d"].drawFaceExpressions(o,s,n),i&&Object.keys(i).length>0){const e=i.expressions,t=Math.max(...Object.values(e)),o=Object.keys(e).filter(o=>e[o]===t);this.faceEmotionState='"'+o[0]+'"',0==this.loading&&(this.loading=!0,this.show3=!1,this.showProcess=!0,this.showStart=!1,this.Savemodal())}this.faceAngry=Math.round(100*t.expressions.angry),this.faceDisgusted=Math.round(100*t.expressions.disgusted),this.faceFearful=Math.round(100*t.expressions.fearful),this.faceHappy=Math.round(100*t.expressions.happy),this.faceNeutral=Math.round(100*t.expressions.neutral),this.faceSad=Math.round(100*t.expressions.sad),this.faceSurprised=Math.round(100*t.expressions.surprised)},500)})},grabTime:function(){if(1==this.time1){this.timeDifference=Date.now()-this.initialTime,this.dataNamer=this.timeDifference;var e=document.getElementById("timeHolder");e.innerHTML=this.dataNamer}if(0==this.time1){this.timeDifference=Date.now()-this.initialTime;var t=parseInt(document.getElementById("timeHolder").innerHTML);this.timeDifference=this.timeDifference+t,this.time2=!0}var o=r(this.timeDifference);document.getElementById("timer").innerHTML=""+o,this.workingTime=o,console.log(o),this.timeElapsed=this.timeDifference,this.placeHolderForTimeCheck=this.timeDifference;var a=document.getElementById("speakingTime").value,i=a-15e3,s=a-3e4,n=document.getElementById("timer");function r(e){var t=Math.floor(e/1e3),o=Math.floor(t/60),a=t-60*o;return a<10&&(a="0"+a),o<10&&(o="0"+o),o+":"+a}this.placeHolderForTimeCheck>=s&&(n.style.backgroundColor="green",this.msgTime="30 Seconds Remaining"),this.placeHolderForTimeCheck>=i&&(n.style.backgroundColor="yellow",this.msgTime="15 Seconds Remaining"),this.placeHolderForTimeCheck>=a&&(n.style.backgroundColor="red",this.msgTime="Selected Time Reached")},countWords:function(e){const t=e.split(" ");return t.filter(e=>""!==e).length},registerWPM:function(){const e=this.timeElapsed/1e3;this.wpm=e>0?Math.round(this.wordCount/e*60):0},getReadabilityStats:function(){this.readability=l["gunningFog"](this.workingOutput)},stopVoiceControl:function(){if(this.showStart=!1,this.showStop=!0,this.stop=!0,this.time1=!1,1==this.time2){this.dataNamer=this.timeDifference;var e=document.getElementById("timeHolder");e.innerHTML=this.dataNamer}null!==this.volumeInterval&&(clearInterval(this.volumeInterval),this.volumeInterval=null),0==this.cancelCall&&(this.visualizeData(),clearInterval(this.grabTimeInterval),clearInterval(this.renderDataInterval),clearInterval(this.summarizeDataInterval),this.showTime=!1,this.stop=!0,this.show5=!1,this.showTime=!1,this.show5=!1,0==this.android&&this.voiceInstance.stop(),1==this.android&&(this.mediaRecorder.stop(),console.log("android app stopped")),setTimeout(()=>{this.summarizeData()},1010),setTimeout(()=>{this.getFeedback()},3500),this.cancelCall=!0)},reset:function(){location.reload()},unhideData:function(){document.getElementById("rawData").style.display="inline-block"},hideData:function(){document.getElementById("rawData").style.display="none"},renderData:function(){const e=new Promise((e,t)=>{this.setVolume(),this.getReadabilityStats(),this.registerWPM(),e("Data rendered!"),t("Data render failed")});e.then(()=>{this.constructJSON(),this.visualizeData(),this.resetWorkingOutput()})},constructJSON:function(){this.currentDataObject='{"time":"'+this.workingTime+'","wpm":"'+this.wpm+'","content":"'+this.workingOutput+'","volume":'+this.volumeValue+',"word_complexity":'+this.readability+',"faceAnger":'+this.faceAngry+',"faceDisgust":'+this.faceDisgusted+',"faceFear":'+this.faceFearful+',"faceHappiness":'+this.faceHappy+',"faceNeutral":'+this.faceNeutral+',"faceSadness":'+this.faceSad+',"faceSurprise":'+this.faceSurprised+"},";var e=document.getElementById("rawData");e.innerHTML+=this.currentDataObject,this.overallDataObject=document.getElementById("rawData").innerHTML},async summarizeData(){this.spinner1=!0;var e=document.getElementById("rawData").innerHTML;const t=JSON.parse("["+e.slice(0,-1)+"]"),o=t.length,a=JSON.stringify(t),i=o-1,s=this,n=s.workingTime;0==s.firstSummary&&(s.dataSample=a.substring(a.indexOf(s.referenceTime)),s.referenceTime=t[i].time),1==s.firstSummary&&(s.dataSample=a,s.referenceTime=t[i].time,s.firstSummary=!1);try{const e=await fetch("/.netlify/functions/summarizeData",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({dataSample:s.dataSample,referenceTime:s.referenceTime})}),t=await e.json();s.showFeedback=!1,s.dataSummary=s.dataSummary+="#00:"+n+" "+t.result+"\n\n",s.spinner1=!1,s.feedback=s.dataSummary}catch(r){console.error("Error summarizing data:",r),s.spinner1=!1,s.showFeedback=!1,s.feedback="Error summarizing data. Check the console for details."}},async getFeedback(){this.spinner2=!0;const e=this;try{const t=await fetch("/.netlify/functions/getFeedback",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({dataSummary:e.dataSummary})}),o=await t.json();e.showFeedback2=!1,e.feedback2=o.result,this.spinner2=!1}catch(t){console.error("Error fetching feedback:",t),e.spinner2=!1,e.showFeedback2=!1,e.feedback2="Error fetching feedback. Check the console for details."}},resetWorkingOutput:function(){this.workingOutput=""},pdfResults:function(){var e=document.getElementsByClassName("feedback");document.getElementById("container").style.position="static",document.querySelector('[data-title="Autoscale"]').click();for(var t=0;t<e.length;t++)e[t].style.height="100%";window.print();for(var o=0;o<e.length;o++)e[o].style.height="200px";document.getElementById("container").style.position="fixed",document.querySelector('[data-title="Autoscale"]').click()},visualizeData:function(){var e=document.getElementById("rawData").innerHTML,t="["+e.slice(0,-1)+"]",o=JSON.parse(t);if(0==this.showWPM){let e={x:[],y:[],mode:"lines",name:"Words Per Minute",line:{color:"#f48d79",width:2}};o.forEach((function(t){e.x.push(t["time"]),e.y.push(t["wpm"])}));var a={paper_bgcolor:"#222831",plot_bgcolor:"#222831",title:{text:"Rate of Speech",font:{family:"Arial, sans-serif",size:20,color:"#71c68b"},xref:"paper",automargin:!0,x:.5,xanchor:"center",y:.88,yanchor:"top"},autosize:!0,xaxis:{tickfont:{size:18,color:"#71c68b"},tickcolor:"#36454f",title:{text:"Time",font:{family:"Arial, sans-serif",size:18,color:"#71c68b"}}},yaxis:{margin:{autoexpand:!0},automargin:!0,tickfont:{size:18,color:"#71c68b"},tickcolor:"#36454f",title:{text:"Words Per Minute",font:{family:"Arial, sans-serif",size:18,color:"#71c68b"}}}},i={displayModeBar:!0,modeBarButtonsToRemove:["lasso2d","select2d","sendDataToCloud"],displaylogo:!1,responsive:!0},s=document.getElementById("wpmChart");d.a.newPlot(s,[e],a,i)}if(0==this.showVolume){let e={x:[],y:[],mode:"lines",name:"Volume",line:{color:"#40D0E0",width:2}};o.forEach((function(t){e.x.push(t["time"]),e.y.push(t["volume"])}));var n={paper_bgcolor:"#222831",plot_bgcolor:"#222831",title:{text:"Volume",font:{family:"Arial, sans-serif",size:20,color:"#c300ff"},xref:"paper",automargin:!0,x:.5,xanchor:"center",y:.88,yanchor:"top"},autosize:!0,xaxis:{tickfont:{size:18,color:"#c300ff"},tickcolor:"#c300ff",title:{text:"Time",font:{family:"Arial, sans-serif",size:18,color:"#c300ff"}}},yaxis:{margin:{autoexpand:!0},automargin:!0,tickfont:{size:18,color:"#c300ff"},tickcolor:"#c300ff",title:{text:"Volume",font:{family:"Arial, sans-serif",size:18,color:"#c300ff"}}}},r=document.getElementById("volumeChart");d.a.newPlot(r,[e],n,i)}if(0==this.showVolume){let e={x:[],y:[],mode:"lines",name:"Volume",line:{color:"#40D0E0",width:2}};o.forEach((function(t){e.x.push(t["time"]),e.y.push(t["word_complexity"])}));var l={paper_bgcolor:"#222831",plot_bgcolor:"#222831",title:{text:"Complexity of Words Spoken",font:{family:"Arial, sans-serif",size:20,color:"#fdfd96"},xref:"paper",automargin:!0,x:.5,xanchor:"center",y:.88,yanchor:"top"},autosize:!0,xaxis:{tickfont:{size:16,color:"#fdfd96"},tickcolor:"#36454f",title:{text:"Time",font:{family:"Arial, sans-serif",size:18,color:"#fdfd96"}}},yaxis:{margin:{autoexpand:!0},automargin:!0,tickfont:{size:16,color:"#fdfd96"},tickcolor:"#fdfd96",title:{text:"Grade Level",font:{family:"Arial, sans-serif",size:18,color:"#fdfd96"}}}},c=document.getElementById("readabilityChart");d.a.newPlot(c,[e],l,i)}if(1==this.faceEmotionSelected){let e={x:[],y:[],mode:"lines",name:"Anger",line:{color:"#ff6961",width:2}},t={x:[],y:[],mode:"lines",name:"Fear",line:{color:"#fdfd96",width:2}},a={x:[],y:[],mode:"lines",name:"Surprise",line:{color:"#ffb347",width:2}},s={x:[],y:[],mode:"lines",name:"Neutral",line:{color:"#cfcfc4",width:2}},n={x:[],y:[],mode:"lines",name:"Sadness",line:{color:"#85A1F2",width:2}},r={x:[],y:[],mode:"lines",name:"Happiness",line:{color:"#77dd77",width:2}},l={x:[],y:[],mode:"lines",name:"Disgust",line:{color:"##FF5733",width:2}};o.forEach((function(o){e.x.push(o["time"]),e.y.push(o["faceAnger"]),t.x.push(o["time"]),t.y.push(o["faceFear"]),a.x.push(o["time"]),a.y.push(o["faceSurprise"]),s.x.push(o["time"]),s.y.push(o["faceNeutral"]),n.x.push(o["time"]),n.y.push(o["faceSadness"]),r.x.push(o["time"]),r.y.push(o["faceHappiness"]),l.x.push(o["time"]),l.y.push(o["faceDisgust"])}));var m={paper_bgcolor:"#222831",plot_bgcolor:"#222831",title:{text:"  Expressions in Face",font:{family:"Arial, sans-serif",size:20,color:"#f48d79"},xref:"paper",automargin:!0,x:.5,xanchor:"center",y:.88,yanchor:"top"},autosize:!0,xaxis:{tickfont:{size:16,color:"#f48d79"},tickcolor:"#f48d79",title:{text:"Time",font:{family:"Arial, sans-serif",size:18,color:"#f48d79"}}},yaxis:{margin:{autoexpand:!0},automargin:!0,tickfont:{size:16,color:"#f48d79"},tickcolor:"#f48d79",title:{text:"Expressions",font:{family:"Arial, sans-serif",size:18,color:"#f48d79"}}}},u=document.getElementById("faceEmotionChart");d.a.newPlot(u,[e,t,a,s,n,r,l],m,i)}}}},v=f,g=(o("a415"),o("2877")),b=Object(g["a"])(v,n,r,!1,null,"681f9232",null),y=b.exports,w={name:"App",components:{PublicSpeakingDashboard:y}},k=w,x=(o("cb0e"),Object(g["a"])(k,i,s,!1,null,null,null)),_=x.exports;a["a"].config.productionTip=!1,new a["a"]({render:e=>e(_)}).$mount("#app")},6:function(e,t){},7:function(e,t){},8:function(e,t){},9:function(e,t){},a415:function(e,t,o){"use strict";o("2b50")},cb0e:function(e,t,o){"use strict";o("3884")}});
//# sourceMappingURL=app.76a27986.js.map